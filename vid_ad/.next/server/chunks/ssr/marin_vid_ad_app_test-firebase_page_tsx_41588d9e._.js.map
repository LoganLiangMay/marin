{"version":3,"sources":["turbopack:///[project]/marin/vid_ad/app/test-firebase/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { auth, firestore } from '@/lib/firebase/config';\nimport { collection, addDoc, getDocs } from 'firebase/firestore';\nimport { signInAnonymously } from 'firebase/auth';\n\nexport default function TestFirebasePage() {\n  const [status, setStatus] = useState<string>('Initializing...');\n  const [testResults, setTestResults] = useState<{\n    auth: boolean;\n    firestore: boolean;\n  }>({\n    auth: false,\n    firestore: false,\n  });\n\n  useEffect(() => {\n    testFirebaseConnection();\n  }, []);\n\n  const testFirebaseConnection = async () => {\n    setStatus('Testing Firebase connection...');\n    const results = { auth: false, firestore: false };\n\n    try {\n      // Test Authentication\n      setStatus('Testing Authentication...');\n      const userCredential = await signInAnonymously(auth);\n      if (userCredential.user) {\n        results.auth = true;\n        console.log('✅ Auth connected:', userCredential.user.uid);\n      }\n\n      // Test Firestore\n      setStatus('Testing Firestore...');\n      const testCollection = collection(firestore, 'test');\n      const docRef = await addDoc(testCollection, {\n        test: true,\n        timestamp: new Date(),\n      });\n\n      if (docRef.id) {\n        results.firestore = true;\n        console.log('✅ Firestore connected:', docRef.id);\n\n        // Read test\n        const snapshot = await getDocs(testCollection);\n        console.log('✅ Firestore read test: ', snapshot.size, 'documents');\n      }\n\n      setTestResults(results);\n      setStatus('Firebase connection test complete!');\n    } catch (error) {\n      console.error('Firebase test error:', error);\n      setStatus(`Error: ${error}`);\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen flex-col items-center justify-center p-24\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div className=\"text-center\">\n          <h1 className=\"text-3xl font-bold mb-8\">Firebase Connection Test</h1>\n\n          <div className=\"bg-gray-100 rounded-lg p-6 mb-6\">\n            <p className=\"text-lg font-semibold mb-4\">{status}</p>\n\n            <div className=\"space-y-2 text-left\">\n              <div className=\"flex items-center justify-between\">\n                <span>Authentication:</span>\n                <span className={testResults.auth ? 'text-green-600' : 'text-red-600'}>\n                  {testResults.auth ? '✅ Connected' : '❌ Not Connected'}\n                </span>\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <span>Firestore:</span>\n                <span className={testResults.firestore ? 'text-green-600' : 'text-red-600'}>\n                  {testResults.firestore ? '✅ Connected' : '❌ Not Connected'}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <button\n            onClick={testFirebaseConnection}\n            className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            Re-test Connection\n          </button>\n\n          <div className=\"mt-8 p-4 bg-yellow-50 rounded-lg\">\n            <p className=\"text-sm text-gray-600\">\n              Note: Make sure to add your Firebase configuration to .env.local\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"sDAEA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAiB,mBACvC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAG3C,CACD,MAAM,EACN,WAAW,CACb,GAEA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GACF,EAAG,EAAE,EAEL,IAAM,EAAyB,UAC7B,EAAU,kCACV,IAAM,EAAU,CAAE,MAAM,EAAO,WAAW,CAAM,EAEhD,GAAI,CAEF,EAAU,6BACV,IAAM,EAAiB,MAAM,CAAA,EAAA,EAAA,iBAAiB,AAAjB,EAAkB,EAAA,IAAI,EAC/C,EAAe,IAAI,EAAE,CACvB,EAAQ,IAAI,EAAG,EACf,QAAQ,GAAG,CAAC,oBAAqB,EAAe,IAAI,CAAC,GAAG,GAI1D,EAAU,wBACV,IAAM,EAAiB,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,SAAS,CAAE,QACvC,EAAS,MAAM,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,EAAgB,CAC1C,MAAM,EACN,UAAW,IAAI,IACjB,GAEA,GAAI,EAAO,EAAE,CAAE,CACb,EAAQ,SAAS,EAAG,EACpB,QAAQ,GAAG,CAAC,yBAA0B,EAAO,EAAE,EAG/C,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,GAC/B,QAAQ,GAAG,CAAC,0BAA2B,EAAS,IAAI,CAAE,YACxD,CAEA,EAAe,GACf,EAAU,qCACZ,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,uBAAwB,GACtC,EAAU,CAAC,OAAO,EAAE,EAAA,CAAO,CAC7B,CACF,EAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,6BAExC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA8B,IAE3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,oBACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAY,IAAI,CAAG,iBAAmB,wBACpD,EAAY,IAAI,CAAG,cAAgB,uBAIxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,eACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAY,SAAS,CAAG,iBAAmB,wBACzD,EAAY,SAAS,CAAG,cAAgB,6BAMjD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,2FACX,uBAID,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,6EAQjD"}